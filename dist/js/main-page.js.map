{"version":3,"sources":["webpack:///main-page.js","webpack:///./main-page.js","webpack:///./modules/tab-gallery.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","_scrollmagic","_scrollmagic2","_navColorChange","_navColorChange2","_select","_select2","_gallery","_gallery2","_dispatcher","_dispatcher2","_actions","_util","heroGallery","autoplay","controller","Controller","container","logotype","select","one","console","info","e","require","on","VIDEO_READY","MODAL_BEFORE_OPEN","slickApiCall","disableScroll","MODAL_AFTER_CLOSE","enableScroll","hero","start","outerHeight","end","offset","top","duration","factor","Scene","triggerElement","triggerHook","TweenMax","set","y","progress","addTo","scrollBodyTo","pos","scroll","window","scrollTop","to","ease","Power3","easeInOut","onUpdate","onComplete","baseOffset","timeout","el","forEach","section","scrollDirection","clearTimeout","setTimeout","removeClass",79,"show","fromTo","autoAlpha","easeOut","hide","Power1","text","gallery","arrows","dots","speed","not","getElement","slick","currentIndex","nextIndex","eq"],"mappings":"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","file":"main-page.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _scrollmagic = __webpack_require__(6);\n\t\n\tvar _scrollmagic2 = _interopRequireDefault(_scrollmagic);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(79);\n\t\n\t__webpack_require__(55);\n\t\n\tvar _navColorChange = __webpack_require__(72);\n\t\n\tvar _navColorChange2 = _interopRequireDefault(_navColorChange);\n\t\n\tvar _select = __webpack_require__(56);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _gallery = __webpack_require__(78);\n\t\n\tvar _gallery2 = _interopRequireDefault(_gallery);\n\t\n\tvar _dispatcher = __webpack_require__(8);\n\t\n\tvar _dispatcher2 = _interopRequireDefault(_dispatcher);\n\t\n\tvar _actions = __webpack_require__(10);\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*global TweenMax, Power3*/\n\t\n\tvar heroGallery = new _gallery2.default('.hero .gs', { autoplay: true });\n\tvar controller = new _scrollmagic2.default.Controller({ container: 'body' });\n\tvar logotype = (0, _jquery2.default)('.parallax-logotype');\n\t\n\t(0, _select2.default)(_jquery2.default);\n\t(0, _jquery2.default)('.select').select();\n\t\n\t(0, _navColorChange2.default)(controller);\n\t\n\t// Download video module on demand\n\t(0, _jquery2.default)('.hero__logo').one('click', function () {\n\t    console.info('Now we need to show some preloader for video');\n\t    __webpack_require__.e/* nsure */(2, function (require) {\n\t        __webpack_require__(80);\n\t    });\n\t});\n\t\n\t_dispatcher2.default.on(_actions.VIDEO_READY, function () {\n\t    console.info('And yet we should hide preloader and show modal with video');\n\t});\n\t\n\t_dispatcher2.default.on(_actions.MODAL_BEFORE_OPEN, function () {\n\t    heroGallery.slickApiCall('slickPause');\n\t    (0, _util.disableScroll)();\n\t});\n\t\n\t_dispatcher2.default.on(_actions.MODAL_AFTER_CLOSE, function () {\n\t    heroGallery.slickApiCall('slickPlay');\n\t    (0, _util.enableScroll)();\n\t});\n\t\n\t(function () {\n\t\n\t    /**\n\t     * Logotype parallax\n\t     */\n\t\n\t    var hero = (0, _jquery2.default)('.hero');\n\t    var start = hero.outerHeight();\n\t    var end = (0, _jquery2.default)('.footer').offset().top;\n\t    var duration = end - start;\n\t    var factor = 0.7;\n\t\n\t    new _scrollmagic2.default.Scene({\n\t        duration: duration,\n\t        triggerElement: hero[0],\n\t        triggerHook: 'onLeave'\n\t    }).on('progress', function (e) {\n\t\n\t        TweenMax.set(logotype, {\n\t            y: duration * e.progress * factor\n\t        });\n\t    }).addTo(controller);\n\t})();\n\t\n\t(function () {\n\t\n\t    /**\n\t     * Autoscroll\n\t     */\n\t\n\t    var baseOffset = -200;\n\t    var timeout = null;\n\t\n\t    [{\n\t        el: (0, _jquery2.default)('.promo-text'),\n\t        offset: -145\n\t    }, {\n\t        el: (0, _jquery2.default)('.gallery'),\n\t        offset: 0\n\t    }, {\n\t        el: (0, _jquery2.default)('.products'),\n\t        offset: -70\n\t    }, {\n\t        el: (0, _jquery2.default)('.map'),\n\t        offset: -70\n\t    }].forEach(function (section) {\n\t        var el = section.el;\n\t        var offset = section.offset;\n\t\n\t        new _scrollmagic2.default.Scene({\n\t            triggerElement: el[0],\n\t            triggerHook: 'onCenter',\n\t            offset: offset + baseOffset,\n\t            duration: el.outerHeight()\n\t        }).on('progress', function (e) {\n\t            if (e.scrollDirection !== 'FORWARD') return;\n\t\n\t            clearTimeout(timeout);\n\t\n\t            timeout = setTimeout(function () {\n\t                scrollBodyTo(el.offset().top + offset);\n\t            }, 500);\n\t\n\t            setTimeout(function () {\n\t                (0, _jquery2.default)(window).one('scroll', function () {\n\t                    if (!timeout) return;\n\t                    clearTimeout(timeout);\n\t                });\n\t            }, 200);\n\t        }).addTo(controller);\n\t    });\n\t\n\t    function scrollBodyTo(pos) {\n\t        var scroll = { y: (0, _jquery2.default)(window).scrollTop() };\n\t\n\t        if (pos < scroll.y) return;\n\t\n\t        (0, _util.disableScroll)();\n\t        TweenMax.to(scroll, 1, {\n\t            y: pos,\n\t            ease: Power3.easeInOut,\n\t            onUpdate: function onUpdate() {\n\t                (0, _jquery2.default)('html, body').scrollTop(scroll.y);\n\t            },\n\t\n\t            onComplete: _util.enableScroll\n\t        });\n\t    }\n\t})();\n\t\n\t(0, _jquery2.default)('html').removeClass('no-js');\n\n/***/ },\n\n/***/ 79:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(3);\n\t\n\tvar _gallery = __webpack_require__(78);\n\t\n\tvar _gallery2 = _interopRequireDefault(_gallery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar text = (0, _jquery2.default)('.gallery__text'); /*global TweenMax Power1 Power3*/\n\t\n\tvar gallery = new _gallery2.default('.gallery .gs', {\n\t    arrows: true,\n\t    dots: true,\n\t    speed: 600\n\t});\n\t\n\tTweenMax.set(text.not(':first'), { autoAlpha: 0 });\n\t\n\tgallery.getElement().on('beforeChange', function (e, slick, currentIndex, nextIndex) {\n\t    hide(text.eq(currentIndex));\n\t    show(text.eq(nextIndex));\n\t});\n\t\n\tfunction show(el) {\n\t    TweenMax.fromTo(el, 0.5, {\n\t        y: 500,\n\t        autoAlpha: 0\n\t    }, {\n\t        y: 0,\n\t        autoAlpha: 1,\n\t        ease: Power3.easeOut\n\t    });\n\t}\n\t\n\tfunction hide(el) {\n\t    TweenMax.fromTo(el, 0.5, {\n\t        y: 0,\n\t        autoAlpha: 1\n\t    }, {\n\t        y: -500,\n\t        autoAlpha: 0,\n\t        ease: Power1.easeOut\n\t    });\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** main-page.js\n **/","/*global TweenMax, Power3*/\nimport $ from 'jquery';\nimport ScrollMagic from 'scrollmagic';\nimport 'svgxuse';\n\nimport './modules/menu';\nimport './modules/tab-gallery';\nimport './modules/footer-map';\n\nimport navColorChange from './plugins/nav-color-change';\nimport initSelectPlugin from './plugins/select';\nimport Gallery from './classes/gallery';\n\nimport dispatcher from './lib/dispatcher';\nimport { MODAL_BEFORE_OPEN, MODAL_AFTER_CLOSE, VIDEO_READY } from './lib/actions';\nimport { disableScroll, enableScroll } from './lib/util';\n\n\nconst heroGallery = new Gallery('.hero .gs', { autoplay: true });\nconst controller = new ScrollMagic.Controller({ container: 'body' });\nconst logotype = $('.parallax-logotype');\n\n\ninitSelectPlugin($);\n$('.select').select();\n\nnavColorChange(controller);\n\n\n// Download video module on demand\n$('.hero__logo').one('click', function() {\n    console.info('Now we need to show some preloader for video');\n    require.ensure([], function(require) {\n        require('./modules/cta-video');\n    }, 'video');\n});\n\ndispatcher.on(VIDEO_READY, () => {\n    console.info('And yet we should hide preloader and show modal with video');\n});\n\ndispatcher.on(MODAL_BEFORE_OPEN, () => {\n    heroGallery.slickApiCall('slickPause');\n    disableScroll();\n});\n\ndispatcher.on(MODAL_AFTER_CLOSE, () => {\n    heroGallery.slickApiCall('slickPlay');\n    enableScroll();\n});\n\n(() => {\n\n    /**\n     * Logotype parallax\n     */\n\n    const hero = $('.hero');\n    const start = hero.outerHeight();\n    const end = $('.footer').offset().top;\n    const duration = end - start;\n    const factor = 0.7;\n\n    new ScrollMagic.Scene({\n        duration,\n        triggerElement: hero[0],\n        triggerHook: 'onLeave'\n    }).on('progress', (e) => {\n\n        TweenMax.set(logotype, {\n            y: duration * e.progress * factor\n        });\n\n    }).addTo(controller);\n\n})();\n\n\n(() => {\n\n    /**\n     * Autoscroll\n     */\n\n    const baseOffset = -200;\n    let timeout = null;\n\n    [{\n        el: $('.promo-text'),\n        offset: -145\n    }, {\n        el: $('.gallery'),\n        offset: 0\n    }, {\n        el: $('.products'),\n        offset: -70\n    }, {\n        el: $('.map'),\n        offset: -70\n    }].forEach((section) => {\n        const { el, offset } = section;\n\n        new ScrollMagic.Scene({\n            triggerElement: el[0],\n            triggerHook: 'onCenter',\n            offset: offset + baseOffset,\n            duration: el.outerHeight()\n        }).on('progress', (e) => {\n            if (e.scrollDirection !== 'FORWARD') return;\n\n            clearTimeout(timeout);\n\n            timeout = setTimeout(() => {\n                scrollBodyTo(el.offset().top + offset);\n            }, 500);\n\n            setTimeout(() => {\n                $(window).one('scroll', () => {\n                    if (!timeout) return;\n                    clearTimeout(timeout);\n                });\n            }, 200);\n\n        }).addTo(controller);\n    });\n\n    function scrollBodyTo(pos) {\n        const scroll = { y: $(window).scrollTop() };\n\n        if (pos < scroll.y) return;\n\n        disableScroll();\n        TweenMax.to(scroll, 1, {\n            y: pos,\n            ease: Power3.easeInOut,\n            onUpdate() {\n                $('html, body').scrollTop(scroll.y);\n            },\n            onComplete: enableScroll\n        });\n    }\n\n})();\n\n$('html').removeClass('no-js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./main-page.js\n **/","/*global TweenMax Power1 Power3*/\nimport $ from 'jquery';\nimport 'gsap';\nimport Gallery from '../classes/gallery';\n\nconst text = $('.gallery__text');\nconst gallery = new Gallery('.gallery .gs', {\n    arrows: true,\n    dots: true,\n    speed: 600\n});\n\nTweenMax.set(text.not(':first'), { autoAlpha: 0 });\n\ngallery.getElement().on('beforeChange', (e, slick, currentIndex, nextIndex) => {\n    hide(text.eq(currentIndex));\n    show(text.eq(nextIndex));\n});\n\nfunction show(el) {\n    TweenMax.fromTo(el, 0.5, {\n        y: 500,\n        autoAlpha: 0\n    }, {\n        y: 0,\n        autoAlpha: 1,\n        ease: Power3.easeOut\n    });\n}\n\nfunction hide(el) {\n    TweenMax.fromTo(el, 0.5, {\n        y: 0,\n        autoAlpha: 1\n    }, {\n        y: -500,\n        autoAlpha: 0,\n        ease: Power1.easeOut\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/tab-gallery.js\n **/"],"sourceRoot":""}